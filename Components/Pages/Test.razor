@page "/test"
@using AutoCAC.Utilities
@using AutoCAC.Components.Templates

<h3>Test ShellOutput Parsing</h3>

<button class="btn btn-primary" @onclick="ParseData">Parse Mock Data</button>

<StaticDataGrid TItem="UserData" Data="ParsedData"/>

@code {
    private ShellOutput shellOutput = new();
    private List<UserData> ParsedData;

    private void ParseData()
    {
        shellOutput.Append("{\u001Fname\u001F:\u001FAlice\u001F,\u001Fage\u001F:\u001F30\u001F},{\u001Fname\u001F:\u001FBob\u001F,\u001Fage\u001F:\u001F25\u001F}");
        // Parse it into a list of objects
        ParsedData = shellOutput.BufferToObject<UserData>();
    }

    public class UserData
    {
        public string Name { get; set; }
        public int Age { get; set; }
    }
}
