@typeparam TItem where TItem : class
@using System.Linq
@using System.Reflection
@using AutoCAC.Components.Templates.Forms
@inject DialogService DialogService
@* add the namespace that contains DataGridVanilla if different *@
@* @using AutoCAC.Components.Templates.Grids *@

<DataGridVanilla TItem="TItem" GridModel="GridModel"
                 RowSelect="OnSelect"
                 ExpandContentView="ExpandContentView"
                 ExpandContentEdit="ExpandContentEdit"
                 ExpandContentBoth="ExpandContentBoth"
                 LeadingColumns="LeadingColumns"
                 TrailingColumns="TrailingColumns"
                 ChildContent="ChildContent"
                 EmptyTemplate="@EmptyTemplate"
                 />
<CancelDialogButton />

@code {
    [Parameter] public DataGridHelper<TItem> GridModel { get; set; } = new();
    [Parameter] public RenderFragment ChildContent { get; set; }
    [Parameter] public RenderFragment<TItem> ExpandContentView { get; set; }
    [Parameter] public RenderFragment<TItem> ExpandContentEdit { get; set; }
    [Parameter] public RenderFragment<TItem> ExpandContentBoth { get; set; }
    [Parameter] public RenderFragment<TItem> LeadingColumns { get; set; }
    [Parameter] public RenderFragment<TItem> TrailingColumns { get; set; }
    [Parameter] public RenderFragment EmptyTemplate { get; set; }
    public void OnSelect(TItem selected) => DialogService.Close(selected);
}
