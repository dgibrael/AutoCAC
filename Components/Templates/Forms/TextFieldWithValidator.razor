@using System.Linq.Expressions;
<RadzenRow>
    <RadzenColumn SizeMD="3">
        <RadzenLabel Text="@(Label ?? Name)" style="width: 100%" />
    </RadzenColumn>
    <RadzenColumn SizeMD="9">
        <RadzenTextBox Value=@Value ValueChanged=@ValueChanged ValueExpression=@ValueExpression Name=@Name 
            style="display: block; width: 100%" />
    </RadzenColumn>
</RadzenRow>
<RadzenRow style="margin-bottom: 1rem">
    <RadzenRequiredValidator Component=@Name Text="@($"{Name} is required")" />
    <RadzenCustomValidator Component=@Name Text="@(ValidatorMsg ?? "Input not allowed")" Validator="@Validate" />
</RadzenRow>

@code {
    [Parameter] public string Name { get; set; }
    [Parameter] public string Value { get; set; }
    [Parameter] public string Label { get; set; }
    [Parameter] public string ValidatorMsg { get; set; }
    [Parameter] public EventCallback<string> ValueChanged { get; set; }
    [Parameter] public Expression<Func<string>> ValueExpression { get; set; }
    [Parameter] public Func<string, bool> ValidateFunc { get; set; }

    private bool Validate()
    {
        var value = ValueExpression.Compile().Invoke();

        if (ValidateFunc == null)
            return true;

        return ValidateFunc(value);
    }
}