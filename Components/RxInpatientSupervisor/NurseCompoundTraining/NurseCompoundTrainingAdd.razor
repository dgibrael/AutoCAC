@page "/supervisor/inpatient/NurseCompoundTraining/new"
@using AutoCAC.Models
@inject IDbContextFactory<mainContext> Db

<StaffAdTbl OnSelect="@OnSelect"/>
@code {
	[CascadingParameter(Name = "MainLayout")] public MainLayout Layout { get; set; }
	private async Task OnSelect(AutoCAC.Models.AdUserDto selected)
	{
		var adUsername = $"d1_{selected.SamAccountName}";
		AutoCAC.Models.NurseCompoundTraining newNurse = new AutoCAC.Models.NurseCompoundTraining()
			{
				StaffUserName = adUsername
			};
		var dbRecord = await Db.AddItemAsync<AutoCAC.Models.NurseCompoundTraining>(newNurse);
		Console.WriteLine(dbRecord.Id.ToString());
	}
}
